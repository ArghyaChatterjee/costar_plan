<?xml version="1.0"?>
<launch>
  <arg name="limited" default="true"/>
  <arg name="paused" default="true"/>
  <arg name="gui" default="true"/>
  <arg name="start_move_group" default="true"/>

  <!-- startup simulated world -->
  <include file="$(find gazebo_ros)/launch/empty_world.launch">   
    <arg name="world_name" default="worlds/empty.world"/>
    <arg name="paused" value="$(arg paused)"/>
    <arg name="gui" value="$(arg gui)"/>
  </include>

  <include file="$(find costar_simulation)/launch/ur5_robotiq_parallel_upload.launch">
    <arg name="limited" value="$(arg limited)"/>
  </include>

  <!--<include file="$(find ur5_moveit_config)/launch/planning_context.launch">
    <arg name="load_robot_description" value="false"/>
  </include>-->
  <!--include if="$(arg start_move_group)" file="$(find ur5_moveit_config)/launch/move_group.launch">
    <param name="allow_trajectory_execution" value="false"/>
    <param name="fake_execution" value="true"/>
  </include-->
  <include if="$(arg start_move_group)" file="$(find ur5_moveit_config)/launch/ur5_moveit_planning_execution.launch">
    <arg name="sim" value="true"/>
  </include>

  <!-- push robot_description to factory and spawn robot in gazebo -->
  <node name="spawn_gazebo_model"
    pkg="gazebo_ros"
    type="spawn_model"
    args="-urdf -param robot_description -model robot -J shoulder_pan_joint 0.30 -J shoulder_lift_joint -1.33 -J elbow_joint -1.80 -J wrist_1_joint -0.27 -J wrist_2_joint 1.50 -J wrist_3_joint 1.60"
    respawn="false"
    output="screen" />

  <!--Camera Pipeline -->
  <include file="$(find costar_simulation)/launch/camera.launch.xml" />


</launch>
