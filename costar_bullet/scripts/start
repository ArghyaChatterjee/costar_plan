#!/usr/bin/env python

from costar_task_plan.simulation import ParseBulletArgs
from costar_task_plan.gym import BulletSimulationEnv
from costar_task_plan.agent import GetAgents, MakeAgent


import time

if __name__ == '__main__':
    '''
    This simple tool should parse arguments and pass them to a simulation client.
    The client actually manages everything, including the ROS core.
    '''

    args = ParseBulletArgs()
    env = BulletSimulationEnv(**args)
    if 'agent' in args and args['agent'] is not None:
        agent = MakeAgent(env, args['agent'], **args)   
        agent.fit(env)
        print "========================"
        print "...done."

    while True:
        time.sleep(0.1)
